<!DOCTYPE html>
<html>
<head><link rel="stylesheet" href="styles.css"><title>Onboarding</title></head>
<body>
<div class="container">
    <h2>Step 2: Upload DL & OSHA</h2>
    <input type="email" id="email" placeholder="Confirm Email" required>
    <label>Driver's License</label><input type="file" id="dl" accept="image/*">
    <label>OSHA Card</label><input type="file" id="osha" accept="image/*">
    <button onclick="up()" id="ub">Sync to Drive</button>
</div>
<script>
    const scriptURL = 'YOUR_DEPLOY_URL';
    const read = (f) => new Promise(res => { const r = new FileReader(); r.onload = () => res(r.result.split(',')[1]); r.readAsDataURL(f); });
    async function up() {
        const em = document.getElementById('email').value;
        const dl = document.getElementById('dl').files[0];
        const osha = document.getElementById('osha').files[0];
        if(!em || !dl || !osha) return alert("All fields required");
        document.getElementById('ub').disabled = true;
        const payload = { action: 'onboard', email: em, files: [ {data: await read(dl), name: 'DL.jpg', folder: '1. Permits'}, {data: await read(osha), name: 'OSHA.jpg', folder: '5. Misc'} ] };
        await fetch(scriptURL, { method: 'POST', mode: 'no-cors', body: JSON.stringify(payload) });
        alert("Success!"); window.location.href = "portal/index.html";
    }
</script>
</body>
</html>
