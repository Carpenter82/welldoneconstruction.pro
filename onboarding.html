<main>
  <h1>Welcome to the Team!</h1>
  
  <section class="button-container">
    <h2>Onboarding Steps</h2>
    
    <div class="step-box">
      <p><strong>Step 1: Legal Documentation</strong></p>
      <a class="button" href="https://dochub.com/m/shared-document/tee-construction/EB5r38Awlmd8oMvRXzZ1kD/on-call-employee-agreement-pdf?dt=Ld8g8Eod_amagDQuWys3" target="_blank">Sign On-Call Agreement</a>
      <p><small>(Return here once DocHub is signed)</small></p>
    </div>

    <div class="step-box">
      <p><strong>Step 2: Personnel Records</strong></p>
      <a class="button" id="packetLink" href="https://welldoneconstruction.pro/employee-packet/">Submit Employee Packet</a>
      <p><small>(You will need a photo of your ID for this step)</small></p>
    </div>
    
    <hr style="margin: 40px 0; border: 0; border-top: 1px solid #eee;">
    
    <p>Existing members:</p>
    <a class="button button-secondary" id="portalLink" href="https://welldoneconstruction.pro/portal/">Access Worker Portal</a>
  </section>
</main>

<script>
  // SMART REDIRECT LOGIC
  // If the worker comes from an email with ?email=test@test.com
  // This script attaches that email to the buttons so the Engine stays synced.
  const params = new URLSearchParams(window.location.search);
  const email = params.get('email');
  
  if (email) {
    const packetUrl = "https://welldoneconstruction.pro/employee-packet/?email=" + encodeURIComponent(email);
    const portalUrl = "https://welldoneconstruction.pro/portal/?id=" + encodeURIComponent(email);
    
    document.getElementById('packetLink').href = packetUrl;
    document.getElementById('portalLink').href = portalUrl;
  }
</script>
