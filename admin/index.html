<!DOCTYPE html>
<html>
<head><link rel="stylesheet" href="../styles.css"></head>
<body>
  <h2>Admin Command Center</h2>
  <table>
    <thead><tr><th>Name</th><th>Trade</th><th>Tier (Col L)</th><th>Action</th></tr></thead>
    <tbody id="applicantTable"></tbody>
  </table>
  <script>
    const scriptURL = 'YOUR_DEPLOY_URL';
    async function load() {
      const resp = await fetch(`${scriptURL}?action=getApplicants`);
      const data = await resp.json();
      document.getElementById('applicantTable').innerHTML = data.map(app => `
        <tr>
          <td>${app.name}</td>
          <td>${app.trade}</td>
          <td>${app.tier}</td>
          <td><button onclick="hire('${app.email}')" ${app.tier === 'TBD' ? 'disabled' : ''}>ACTIVATE</button></td>
        </tr>`).join('');
    }
    async function hire(email) {
      await fetch(scriptURL, { method: 'POST', mode: 'no-cors', body: JSON.stringify({action:'hireWorker', email}) });
      alert("Worker Activated. Email sent.");
      load();
    }
    load();
  </script>
</body>
</html>
